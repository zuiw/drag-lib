/*
  * drag-lib.js - copyright (c) 2023-2024 wuyuchen
  * https://github.com/zuiw/drag-lib
  * Apache-2.0 License
*/
class Drag{constructor(t){let e=Object.keys(t).sort(),n={};for(let o=0;o<e.length;o++)n[e[o]]=t[e[o]];this.opraters=n,this.init()}init(){for(let t in this.opraters){if("el"===t)if("string"==typeof this.opraters[t])this.makeDraggable(document.querySelector(this.opraters[t]));else{if(!(this.opraters[t]instanceof HTMLElement))throw new Error("Element not found!");this.makeDraggable(this.opraters[t])}let e;if(e="string"==typeof this.opraters.el?document.querySelector(this.opraters.el):this.opraters.el,"onDragStart"===t){if("function"!=typeof this.opraters[t])throw new Error("onDragStart must be a function!");{let n=this.opraters[t],o=this.onDrag;e.addEventListener("mousedown",function(t){n(t),e.addEventListener("mousemove",o)})}}if("onDrag"===t){if("function"!=typeof this.opraters[t])throw new Error("onDrag must be a function!");{let e=this.opraters[t];this.onDrag=function(t){e(t)}}}if("onDragEnd"===t){if("function"!=typeof this.opraters[t])throw new Error("onDragEnd must be a function!");{let n=this.opraters[t],o=this.onDrag;e.addEventListener("mouseup",function(t){n(t),e.removeEventListener("mousemove",o)})}}}}makeDraggable(t){t.style.position="absolute",t.addEventListener("mousedown",function(e){e.preventDefault();var n=e.clientX-t.getBoundingClientRect().left,o=e.clientY-t.getBoundingClientRect().top;function r(e){t.style.left=e.clientX-n+"px",t.style.top=e.clientY-o+"px"}document.addEventListener("mousemove",r),document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",r)})})}}